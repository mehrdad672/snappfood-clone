(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4320],{30111:function(e,t,o){"use strict";o.d(t,{Z:function(){return v}});var n=o(85893),i=o(26265),r=o(38347),l=(o(67294),o(27603)),c=o(64478);var a=({stock:e,count:t,disableAdd:o,max_show_stock_text:i,min_show_stock_text:r})=>{const{t:a}=(0,c.$)(),s=(null!==e&&void 0!==e?e:0)<i&&(null!==e&&void 0!==e?e:0)>r;return 0===e&&t>0?(0,n.jsx)(l.Text,{as:"span",margin:"3px 0 0 26px",weight:"normal",align:"center",scale:"caption",colorName:"carbon",colorWeight:"light",children:a("out-of-stock")}):!o&&s?(0,n.jsx)(l.Text,{as:"span",margin:"3px 0 0 0",weight:"normal",scale:"caption",colorName:"carbon",colorWeight:"light",children:a("remaining-stock-number",{stock:e})}):null},s=o(85701),d=o(56167);const h=(0,s.default)(l.FlexBox).withConfig({displayName:"Buttonsstyles__Counter",componentId:"sc-10vemnf-0"})(["min-height:",";>{&:nth-child(2){width:",";text-align:center;}Button{min-width:",";}}"],(0,d.hO)(37),(({theme:e})=>e.spacing[6]),(({theme:e})=>e.spacing[4])),p=(0,s.default)(l.Button).withConfig({displayName:"Buttonsstyles__StockButton",componentId:"sc-10vemnf-1"})(["&:disabled svg{fill:var(--sf-inactive-dark);}"]),m=(0,s.default)(l.Button).withConfig({displayName:"Buttonsstyles__AddButton",componentId:"sc-10vemnf-2"})(["height:",";font-weight:",";font-size:",";line-height:",";"],(0,d.hO)(37),(({theme:e})=>e.weight.normal),(0,d.hO)(14),(0,d.hO)(20));var u=({count:e,round:t,onClickAdd:o,onClickRemove:i,hovered:r,disableAdd:a})=>{const{t:s}=(0,c.$)();return e>0?(0,n.jsxs)(h,{alignItems:"center",justify:"center",children:[(0,n.jsx)(l.Button,{float:1!==e,type:"button",round:t,size:"body",appearance:1===e?"naked":"outline",colorName:1===e?"carbon":"accent",onClick:i,children:1===e?(0,n.jsx)(l.RemoveIcon,{role:"button"}):(0,n.jsx)(l.MinusIcon,{fill:"var(--sf-accent-main)",width:10,height:10})}),(0,n.jsx)(l.Text,{scale:"body",weight:"bold",as:"span",children:e}),(0,n.jsx)(p,{float:!0,type:"button",round:t,disabled:a,size:"body",appearance:r?"solid":"outline",onClick:o,children:(0,n.jsx)(l.PlusIcon,{fill:r?"var(--sf-surface-light)":"var(--sf-accent-main)",width:10,height:10})})]}):(0,n.jsx)(m,{float:!0,appearance:r?"solid":"outline",onClick:o,disabled:a,children:s("add")})};const g=(0,s.default)(l.FlexBox).withConfig({displayName:"indexstyles__AddRemoveWrapper",componentId:"sc-16bo864-0"})(["margin-top:",";"],(({hasStock:e})=>e?(0,d.hO)(12):0));function x(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function f(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?x(Object(o),!0).forEach((function(t){(0,i.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):x(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var v=e=>{var t,o;let{showStockLimit:i=!0}=e,l=(0,r.Z)(e,["showStockLimit"]);return(0,n.jsxs)(g,{direction:"column",alignItems:"center",hasStock:(null!==(t=l.stock)&&void 0!==t?t:0)<10&&(null!==(o=l.stock)&&void 0!==o?o:0)>0,children:[(0,n.jsx)(u,f({},l)),i&&(0,n.jsx)(a,f({max_show_stock_text:10,min_show_stock_text:0},l))]})}},77204:function(e,t,o){"use strict";o.d(t,{Z:function(){return p}});var n=o(85893),i=o(67294);function r(e){const{expiry:t,onExpire:o}=e||{},{0:n,1:r}=(0,i.useState)(0),{0:l,1:c}=(0,i.useState)(0),{0:a,1:s}=(0,i.useState)(0),d=(0,i.useRef)(null);function h(){d.current&&(clearInterval(d.current),d.current=null),r(0),c(0),s(0)}function p(){const e=(new Date).getTime(),n=t-e,i=Math.floor(n%864e5/36e5),l=Math.floor(n%36e5/6e4),a=Math.floor(n%6e4/1e3);a<0?(h(),o()):(r(a),c(l),s(i))}const m=e=>function(e){let t=String(e);for(;t.length<2;)t="0"+t;return t}(e);return(0,i.useEffect)((()=>(d.current||(p(),d.current=window.setInterval((()=>p()),1e3)),h)),[t]),{seconds:m(n),minutes:m(l),hours:m(a)}}var l=o(27603),c=o(85701),a=o(56167),s=o(64478);const d=(0,c.default)(l.FlexBox).withConfig({displayName:"Countdown__Container",componentId:"sc-2hv3bg-0"})([">{*{filter:",";fill:",";> *{width:",";text-align:center;&:nth-child(2n){width:",";}}&:first-child{min-width:",";margin-left:",";padding-top:",";}}}"],(({hasShadow:e})=>e?"drop-shadow(0px 1px 0px rgba(0, 0, 0, 0.24))":"unset"),(({theme:e,colorName:t,colorWeight:o})=>e[t][o]),(({theme:e})=>e.spacing[3]),(({theme:e})=>e.spacing[1]),(0,a.hO)(42),(0,a.hO)(6),(0,a.hO)(2)),h=(0,c.default)(l.Text).withConfig({displayName:"Countdown__PeriodTitle",componentId:"sc-2hv3bg-1"})(["margin-left:",";"],(0,a.hO)(5));var p=e=>{const{title:t,counterConfig:o,scale:i="large",colorName:c="carbon",colorWeight:a="main",hasShadow:p=!1}=e,{t:m}=(0,s.$)(),{seconds:u,minutes:g,hours:x}=r({expiry:o.deliveredAt,onExpire:o.onExpire});if("00"===u&&"00"===g&&"00"===x||("NaN"===u||"NaN"===g||"NaN"===x))return null;const f=o.newEstimate?"accent2":c,v=o.newEstimate?"main":a;return(0,n.jsxs)(l.FlexBox,{direction:"column",justify:"center",alignItems:"center",children:[o.newEstimate&&(0,n.jsx)(l.Text,{scale:"caption",colorWeight:"light",children:m("order:followOrder.new_estimate")}),(0,n.jsxs)(d,{alignItems:"center",justify:"center",newEstimate:o.newEstimate,colorName:f,colorWeight:v,hasShadow:p,children:[Boolean(t)&&(0,n.jsx)(h,{scale:"body",colorName:f,weight:"bold",as:"span",children:t}),(0,n.jsxs)(l.FlexBox,{justify:"center",children:[(0,n.jsx)(l.Text,{scale:i,colorName:f,colorWeight:v,weight:"bold",as:"span",children:(0,l.toPersian)(u)}),(0,n.jsx)(l.Text,{scale:i,colorName:f,colorWeight:v,weight:"bold",as:"span",children:":"}),(0,n.jsx)(l.Text,{scale:i,colorName:f,colorWeight:v,weight:"bold",as:"span",children:(0,l.toPersian)(g)}),"00"!==x&&(0,n.jsx)(l.Text,{scale:i,colorName:f,colorWeight:v,weight:"bold",as:"span",children:":"}),"00"!==x&&(0,n.jsx)(l.Text,{scale:i,colorName:f,colorWeight:v,weight:"bold",as:"span",children:(0,l.toPersian)(x)})]}),(0,n.jsx)(l.TimeIcon,{fill:f})]})]})}},72501:function(e,t,o){"use strict";o.d(t,{Z:function(){return N}});var n=o(85893),i=o(26265),r=o(67294),l=o(85701),c=o(27603),a=o(64478),s=o(75046),d=o(59153),h=o(56167),p=o(61248);const m=l.default.section.withConfig({displayName:"ToppingGroup__Layout",componentId:"g37dzy-0"})(["margin-bottom:1rem;padding:1.25rem 1rem 1.125rem 1.125rem;border:"," solid ",";border-radius:4px;&:last-child{margin-bottom:0;}"],(0,h.hO)(1),(({theme:e,isActive:t})=>t?e.alert.main:e.carbon.alphaMedium)),u=l.default.div.withConfig({displayName:"ToppingGroup__TitleBar",componentId:"g37dzy-1"})(["margin-bottom:0.5rem;p{padding-left:0.5rem;}"]),g=l.default.section.withConfig({displayName:"ToppingGroup__ToppingItem",componentId:"g37dzy-2"})(["border-bottom:"," solid ",";label{width:100%;}&:last-child{border-bottom:0;}"],(0,h.hO)(1),(({theme:e})=>e.carbon.alphaLight)),x=(0,l.default)(c.FlexBox).withConfig({displayName:"ToppingGroup__ToppingItemLabel",componentId:"g37dzy-3"})(["width:calc(100% - 1rem);height:3rem;cursor:pointer;p{margin:0;}"]);var f=({id:e,title:t,maxCount:o,minCount:i,toppings:l,isActive:s})=>{const{activeToppings:h,setContextState:f}=(0,r.useContext)(d.HS),{0:v,1:b}=(0,r.useState)([]),{showToast:w}=(0,p.pm)(),{t:y}=(0,a.$)(),j=(e,t)=>1===e&&1===t;return(0,n.jsxs)(m,{id:"toppings-group-".concat(e),isActive:s,children:[(0,n.jsxs)(u,{children:[(0,n.jsx)(c.Text,{scale:"caption",weight:"bold",colorName:s?"alert":"carbon",colorWeight:"light",children:t}),!!i&&(0,n.jsx)(c.Text,{scale:"caption",weight:"normal",colorName:s?"alert":"carbon",colorWeight:"light",children:y("topping.min-count-select",{text:i.toString()})})]}),l.map((e=>(0,n.jsx)(g,{children:(0,n.jsx)(c.Checkbox,{checked:v.includes(e.id),name:"address",onChange:()=>function(e){if(v.includes(e.id)){if(j(i,o))return;b((t=>t.filter((t=>t!==e.id)))),f({activeToppings:h.filter((t=>t.id!==e.id))})}else{let c=[...h];if(j(i,o)){var n,r;c=null===(n=c)||void 0===n?void 0:n.filter((e=>!(null!==v&&void 0!==v&&v.includes(null===e||void 0===e?void 0:e.id)))),null===(r=c)||void 0===r||r.push(e),b([e.id])}else{var l;if(v.length>=o)return void w({status:"alert",right:80,message:y("topping.max-count-error",{text:t,score:null===o||void 0===o?void 0:o.toString()})});null===(l=c)||void 0===l||l.push(e),b((t=>[...t,e.id]))}f({activeToppings:c})}}(e),round:j(i,o),children:(0,n.jsxs)(x,{justify:"space-between",alignItems:"center",children:[(0,n.jsxs)(c.FlexBox,{direction:"column",children:[(0,n.jsx)(c.Text,{scale:"body",weight:"normal",margin:"0 0 5px 0",children:e.title}),e.description&&(0,n.jsx)(c.Text,{scale:"body",as:"span",colorName:"carbon",colorWeight:"light",children:e.description})]}),(0,n.jsx)(c.Price,{value:e.price})]})})},e.id)))]})},v=o(62019),b=o(2777),w=o(82760);function y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function j(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?y(Object(o),!0).forEach((function(t){(0,i.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const O=(0,l.default)(c.Modal).withConfig({displayName:"ToppingModal__ModalContainer",componentId:"l7yyli-0"})(["width:",";"],(0,h.hO)(480)),_=l.default.section.withConfig({displayName:"ToppingModal__Header",componentId:"l7yyli-1"})(["padding:0 1rem 1rem;div:first-child{margin-bottom:0.5rem;}"]),C=l.default.section.withConfig({displayName:"ToppingModal__Body",componentId:"l7yyli-2"})(["max-height:50vh;padding:1rem;overflow-y:auto;"]),T=(0,l.default)(c.FlexBox).withConfig({displayName:"ToppingModal__Footer",componentId:"l7yyli-3"})(["padding:",";button{height:3rem;}"],(0,h.hO)(12));var N=({handleRudderStackAddProduct:e=(()=>{})})=>{const{0:t,1:o}=(0,r.useState)(0),{t:i}=(0,a.$)(),{activeProduct:l,isToppingModalOpen:h,activeToppings:p=[],setContextState:m}=(0,r.useContext)(d.HS),u=(0,r.useRef)(null),{handleProductAction:g}=(0,v.LQ)(null===l||void 0===l?void 0:l.id),x=()=>{m({isToppingModalOpen:!1}),o(0)};const y=l?l.price-l.discount+(null===p||void 0===p?void 0:p.reduce(((e,t)=>{var o;return e+(null!==(o=null===t||void 0===t?void 0:t.price)&&void 0!==o?o:0)}),0)):0;return(0,n.jsxs)(O,{isOpen:h,onClose:x,animation:"slideDown",backdropColor:"var(--modal-backdrop)",children:[(0,n.jsx)(s.x,{title:"",onClose:x}),(0,n.jsxs)(_,{children:[(0,n.jsx)("div",{children:(0,n.jsx)(c.Text,{scale:"xlarge",weight:"bold",colorName:"carbon",colorWeight:"light",children:i("topping.select-topping")})}),(0,n.jsx)("div",{children:(0,n.jsx)(c.Text,{scale:"body",weight:"normal",colorName:"carbon",colorWeight:"light",children:null===l||void 0===l?void 0:l.title})})]}),(0,n.jsxs)("form",{onSubmit:function(t){var n;t.preventDefault();const i=p.map((e=>e.id)),r=null===l||void 0===l?void 0:l.productToppings.filter((e=>(null===e||void 0===e?void 0:e.minCount)>0)),c=null!==(n=null===r||void 0===r?void 0:r.filter((e=>{var t;return(null===(t=e.toppings)||void 0===t?void 0:t.filter((e=>i.includes(e.id))).length)<e.minCount})))&&void 0!==n?n:[];if(c.length){const e=c[0],t=document.getElementById("toppings-group-".concat(e.id));null===t||void 0===t||t.scrollIntoView({behavior:"smooth",block:"start"}),o(e.id)}else g(j(j({},l),{},{toppings:p}),b.o3.ADD),e(l,w.D.PRODUCT_ADDED_VENDOR),o(0),x()},children:[(0,n.jsx)(C,{ref:u,children:(0,n.jsx)("div",{children:null===l||void 0===l?void 0:l.productToppings.map((e=>(0,n.jsx)(f,{id:e.id,title:e.title,minCount:e.minCount,maxCount:e.maxCount,toppings:e.toppings,isActive:t===e.id},e.id)))})}),(0,n.jsx)(T,{children:(0,n.jsxs)(c.Button,{block:!0,type:"submit",appearance:"solid",colorName:"accent",disabled:!1,children:[(0,n.jsx)(c.Text,{scale:"default",weight:"bold",colorName:"surface",padding:"0 0 0 0.5rem",children:i("topping.add-to-basket")}),(0,n.jsx)(c.Price,{value:y,weight:"normal",colorName:"surface",labelColor:"surface"})]})})]})]})}},1333:function(e,t,o){"use strict";var n=o(85893),i=(o(67294),o(85701)),r=o(64478),l=o(27603),c=o(56167),a=o(2777),s=o(98945),d=o(61030),h=o(44586);const p=(0,i.default)(l.FlexBox).withConfig({displayName:"Item__Container",componentId:"sc-1v1cpq-0"})(["box-sizing:border-box;padding:",";border-bottom:"," solid ",";"],(({theme:e})=>e.spacing[2]),(0,c.hO)(1),(({theme:e})=>e.carbon.alphaMedium)),m=(0,i.default)(l.FlexBox).withConfig({displayName:"Item__CommentInfo",componentId:"sc-1v1cpq-1"})(["flex-shrink:0;width:",";margin-left:",";> *{margin-top:",";&:last-child{width:",";padding:"," ",";text-align:center;border:"," solid ",";border-radius:",";}}"],(0,c.hO)(160),(({theme:e})=>e.spacing[2]),(0,c.hO)(6),(({theme:e})=>e.spacing[4]),(0,c.hO)(2),(0,c.hO)(6),(0,c.hO)(1),(({theme:e})=>e.surface.dark),(0,c.hO)(4)),u=(0,i.default)(l.FlexBox).withConfig({displayName:"Item__CommentContent",componentId:"sc-1v1cpq-2"})(["margin-left:",";> *{&:first-child{margin-bottom:",";}}"],(({theme:e})=>e.spacing[2]),(0,c.hO)(12)),g=(0,i.default)(l.FlexBox).withConfig({displayName:"Item__CommentTags",componentId:"sc-1v1cpq-3"})(["> *{margin-bottom:",";margin-left:",";}"],(({theme:e})=>e.spacing[1]),(({theme:e})=>e.spacing[1])),x=(0,i.default)(l.FlexBox).withConfig({displayName:"Item__Tag",componentId:"sc-1v1cpq-4"})(["height:",";padding:"," ",";font-size:",";background-color:",";border-radius:",";"],(0,c.hO)(20),(0,c.hO)(4),(0,c.hO)(6),(({theme:e})=>e.scales.tiny),(({theme:e})=>e.surface.dark),(0,c.hO)(6)),f=(0,i.default)(l.FlexBox).withConfig({displayName:"Item__Reply",componentId:"sc-1v1cpq-5"})(["margin-top:",";padding:",";border:"," solid ",";border-radius:",";>{&:first-child{margin-bottom:",";}}"],(({theme:e})=>e.spacing[2]),(({theme:e})=>e.spacing[1]),(0,c.hO)(1),(({theme:e})=>e.carbon.alphaMedium),(({theme:e})=>e.spacing[1]),(({theme:e})=>e.spacing[1])),v=(0,i.default)(l.Text).withConfig({displayName:"Item__Rate",componentId:"sc-1v1cpq-6"})(["visibility:",";> svg{margin-left:",";vertical-align:middle;}"],(({visible:e})=>e?"initial":"hidden"),(0,c.hO)(2.5)),b=(e,t)=>{switch(e){case a.z8.VENDOR:return"".concat(d.Z.t("admin")," ").concat(t||d.Z.t("restaurant"));case a.z8.ZOODFOOD:return d.Z.t("snappfood");case a.z8.USER:return d.Z.t("user");case a.z8.EXPRESS:return d.Z.t("express")}};t.Z=({comment:e,vendorType:t=""})=>{var o,i;const{t:c}=(0,r.$)();return(0,n.jsxs)(p,{children:[(0,n.jsxs)(m,{direction:"column",children:[(0,n.jsx)(l.Text,{ellipsis:!0,scale:"body",weight:"bold",children:e.sender}),(0,n.jsx)(l.Text,{scale:"body",children:(0,s.nq)(e.date)}),(0,n.jsxs)(v,{scale:"body",visible:Boolean(e.rate&&e.rate/2>1),children:[(0,n.jsx)(l.StarIcon,{}),e.rate/2]})]}),(0,n.jsxs)(u,{direction:"column",alignItems:"flex-start",justify:"center",children:[(0,n.jsx)(l.Text,{scale:"body",children:e.commentText}),e.deliveryComment?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.Text,{scale:"caption",colorName:"carbon",colorWeight:"light",children:[c("comments.delivery-reply"),":"]}),(0,n.jsx)(l.Text,{scale:"body",margin:"8px 0 12px 0",children:e.deliveryComment})]}):null,Boolean(null===(o=e.foods)||void 0===o?void 0:o.length)&&(0,n.jsx)(g,{wrap:"wrap",children:null===(i=e.foods)||void 0===i?void 0:i.map(((e,t)=>(0,n.jsx)(x,{alignItems:"center",justify:"center",children:(0,n.jsx)(l.Text,{scale:"tiny",colorName:"carbon",children:e.title})},e.title+t)))}),e.replies.map((e=>(0,n.jsxs)(f,{direction:"column",justify:"center",children:[(0,n.jsxs)(l.Text,{scale:"caption",colorName:"accent",weight:"bold",children:[c("comments.reply")," ",b(e.source,t)]}),(0,n.jsx)(l.Text,{scale:"caption",children:e.commentText})]},(0,h.Z)())))]})]})}},82760:function(e,t,o){"use strict";let n;o.d(t,{D:function(){return n}}),function(e){e.PRODUCT_REMOVED_SUPERMARKET="product removed supermarket",e.PRODUCT_VIEWED_SUPERMARKET="product viewed supermarket",e.PRODUCT_ADDED_SUPERMARKET="product added supermarket",e.PRODUCT_CATEGORY_CLICKED="product category clicked",e.INFO_AND_COMMENTS_MENU="info and comments menu",e.PRODUCT_REMOVED_VENDOR="product removed vendor",e.PRODUCT_VIEWED_VENDOR="product viewed vendor",e.PRODUCT_ADDED_VENDOR="product added vendor",e.VENDOR_VIEWED="vendor viewed"}(n||(n={}))}}]);